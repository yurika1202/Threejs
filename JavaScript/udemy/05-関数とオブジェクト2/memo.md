### コンストラクタ関数

- 新しくオブジェクトを作成するための、雛形となる関数
- 呼び出す際には new 演算子を使う＝インスタンス化
- 一般的にコンストラクタ関数名の 1 文字目は大文字にする

```
// nameとageプロパティを持つPersonオブジェクトを作成するコンストラクタ関数
function Person (name, age) {
    this.name = name;
    this.age = age;
}

const bob = new Person('Bob', 18);
// Person {name:'Bob', age:18}
```

### prototype

- オブジェクトに存在する特別なプロパティ
- コンストラクタ関数と合わせて使用する
- インスタンス化した際には prototype の参照が proto にコピーされる（アンスコ変換されちゃうので省略）

```
// 上記コンストラクタ関数に、helloメソッドを追加する
Person.prototype.hello = function() {
    console.log('hello ' + this.name);
}

bob.hello(); // hello Bob
```

- prototype を使用すると、オブジェクトへの参照のみを渡すことになるのでメモリの節約につながる

### new 演算子

- コンストラクタ関数からインスタンスを作成するための演算子
- コンストラクタ関数の戻り値がオブジェクトの場合は、return されたオブジェクトを新しいインスタンスオブジェクトとして呼び出し元へ返す
- オブジェクト以外の場合（return がない場合含む）は、prototype をインスタンスのｱﾝｽｺ proto にコピーし、コンストラクタ関数の this の参照として返す
- 0501 参照

### instance of

- どのコンストラクタから生成されたオブジェクトかを確認する
- 内部ではインスタンスのｱﾝｽｺ proto とコンストラクタ関数の prototype が比較されている
- 0502 参照

### 関数コンストラクタ

- 大文字からはじまる function のことで、使用時には new 演算子を用いる
- 一般的には使用は推奨されていない（脆弱性）

### プロトタイプチェーン

- プロトタイプの多重形成のこと
- 階層が浅いものから該当するものを探していく

**プロトタイプの検索**

- hasOwnProperty：自身に指定プロパティが存在するか
- in：プロトタイプチェーンまで含めて、指定プロパティが存在するか

### プロトタイプ継承

- 別のコンストラクタ関数のプロトタイプを受け継いで、機能を流用できるようにすること
- 継承後は上書きが可能
- 0503 参照
